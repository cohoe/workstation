---
- name: install shell packages
  dnf:
    name:
      - zsh
      - tmux
      - screen
    state: latest
  become: yes

- include_tasks: "{{ task_item }}"
  with_items:
    - homedir.yml
    - zsh.yml
    - git.yml
#    - nvm.yml # DISABLING NVM UNTIL I ACTUALLY NEED IT AGAIN
  loop_control:
    loop_var: task_item

- name: install user dotfiles
  copy:
    dest: "~/.{{ item }}"
    src: "{{ item }}"
  with_items:
    - vimrc
    - screenrc
    - tmux.conf

- name: install root dotfiles
  copy:
    dest: "~/.{{ item }}"
    src: "{{ item }}"
  become: yes
  with_items:
    - vimrc
    - screenrc

# Setup root paths
- name: install custom shell paths
  copy:
    src: localbin.sh
    dest: /etc/profile.d/localbin.sh
  become: yes
