---
- name: "Set workspace count"
  shell: xfconf-query -c xfwm4 -p /general/workspace_count -s "{{xfce_workspace_count}}"
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Enable compositing"
  shell: xfconf-query -c xfwm4 -p /general/use_compositing -s true
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Disable dock shadow"
  shell: xfconf-query -c xfwm4 -p /general/show_dock_shadow -s false
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Snap to windows"
  shell: xfconf-query -c xfwm4 -p /general/snap_to_windows -s true
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Set theme"
  shell: xfconf-query -c xfwm4 -p /general/theme -s "{{xfce_theme}}"
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Shortcut for prev_workspace"
  shell: xfconf-query -c xfce4-keyboard-shortcuts -p "/xfwm4/custom/<Primary><Alt><Super>Left" --create -t string -s prev_workspace_key
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Shortcut for next_workspace"
  shell: xfconf-query -c xfce4-keyboard-shortcuts -p "/xfwm4/custom/<Primary><Alt><Super>Right" --create -t string -s next_workspace_key
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Set file browser default view"
  shell: xfconf-query -c thunar -p /default-view --create -t string -s ThunarDetailsView
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Set file browser last view"
  shell: xfconf-query -c thunar -p /last-view --create -t string -s ThunarDetailsView
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Set file browser side view"
  shell: xfconf-query -c thunar -p /last-side-pane --create -t string -s ThunarTreePane
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "System font"
  shell: xfconf-query -c xsettings -p /Gtk/FontName -t string -s "Sans 10"
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Hide power icon"
  shell: xfconf-query -c xfce4-power-manager -p /xfce4-power-manager/show-tray-icon -s false
  environment:
    DISPLAY: "{{xfce_display}}"

- name: "Reset keyboards"
  shell: xfconf-query -c xfce4-keyboard-shortcuts -p '/xfwm4/custom/{{ item }}' -r
  environment:
    DISPLAY: "{{xfce_display}}"
  with_items:
    - <Alt><Control>KP_1
    - <Alt><Control>KP_2
    - <Alt><Control>KP_3
    - <Alt><Control>KP_4
    - <Alt><Control>KP_5
    - <Alt><Control>KP_6
    - <Alt><Control>KP_7
    - <Alt><Control>KP_8
    - <Alt><Control>KP_9
