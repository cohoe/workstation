---
- name: "packages | install"
  dnf: name={{ item }} state=latest
  become: yes
  with_items:
    - virt-what
    - xscreensaver

- name: "virtualized | get"
  shell: virt-what
  become: yes
  register: platform
  changed_when: false
  ignore_errors: yes

- name: "config | create"
  file: path=~/.xscreensaver
        state=touch

- name: "disable"
  lineinfile:
    dest: ~/.xscreensaver
    regexp: "^mode"
    line: "mode:\toff"
  when: 'platform.stdout != ""'

- name: "enable"
  lineinfile:
    dest: ~/.xscreensaver
    regexp: "^mode"
    line: "mode:\tone"
  when: 'platform.stdout == ""'

- name: "set"
  lineinfile:
    dest: ~/.xscreensaver
    regexp: "^selected"
    line: "selected:\t115"

# Flury
# GLMatrix
