---
- name: "package | install"
  dnf: name={{ item }} state=latest
  become: yes
  with_items:
    - remmina
    - remmina-plugins-*

- name: "config | create"
  file: path=~/.remmina
        state=directory
        mode=0700

- name: "files | create"
  template: src=connection.j2
            dest=~/.remmina/{{ item.name }}.remmina
  with_items:
    - "{{ remmina_hosts }}"
  when: "{{ remmina_hosts }}"

# Launchy cant deal with shortcuts with more than one entry
- name: "shortcut | create"
  copy: src=remmina.desktop
        dest={{ local_shortcuts_dir }}/remmina.desktop
  become: yes
