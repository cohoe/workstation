---
- name: "packages | install"
  dnf: name={{ item }} state=latest
  become: yes
  with_items:
    - docky
    - gconf-editor

- name: "autostart | configure"
  copy: src=docky.desktop
        dest=~/.config/autostart/docky.desktop

- name: "config | download"
  copy: src=config.xml
        dest=/tmp/docky-config.xml

- name: "processes | stop"
  shell: pgrep docky | xargs kill
  ignore_errors: yes

- name: "config | remove"
  shell: gconftool-2 --recursive-unset /apps/docky-2

- name: "config | activate"
  shell: gconftool-2 --load /tmp/docky-config.xml
